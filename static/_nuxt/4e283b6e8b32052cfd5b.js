(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{403:function(t,e,n){var content=n(405);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(72).default)("500caa6b",content,!0,{sourceMap:!1})},404:function(t,e,n){"use strict";var r=n(403);n.n(r).a},405:function(t,e,n){(t.exports=n(71)(!1)).push([t.i,"@-webkit-keyframes v-pulseStretchDelay{0%,80%{-webkit-transform:scale(1);transform:scale(1);-webkit-opacity:1;opacity:1}45%{-webkit-transform:scale(.1);transform:scale(.1);-webkit-opacity:.7;opacity:.7}}@keyframes v-pulseStretchDelay{0%,80%{-webkit-transform:scale(1);transform:scale(1);-webkit-opacity:1;opacity:1}45%{-webkit-transform:scale(.1);transform:scale(.1);-webkit-opacity:.7;opacity:.7}}",""])},406:function(t,e,n){"use strict";var r={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},o=(n(404),n(30)),component=Object(o.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[e("div",{staticClass:"v-pulse v-pulse1",style:[this.spinnerStyle,this.spinnerDelay1]}),e("div",{staticClass:"v-pulse v-pulse2",style:[this.spinnerStyle,this.spinnerDelay2]}),e("div",{staticClass:"v-pulse v-pulse3",style:[this.spinnerStyle,this.spinnerDelay3]})])},[],!1,null,null,null);e.a=component.exports},416:function(t,e,n){var content=n(447);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(72).default)("64b724a7",content,!0,{sourceMap:!1})},442:function(t,e,n){var r=n(7),o=n(181)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},443:function(t,e,n){var r=n(444);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},444:function(t,e,n){var r=n(182),o=n(445);t.exports=function t(e,n,l,c,m){var f=-1,v=e.length;for(l||(l=o),m||(m=[]);++f<v;){var d=e[f];n>0&&l(d)?n>1?t(d,n-1,l,c,m):r(m,d):c||(m[m.length]=d)}return m}},445:function(t,e,n){var r=n(52),o=n(113),l=n(18),c=r?r.isConcatSpreadable:void 0;t.exports=function(t){return l(t)||o(t)||!!(c&&t&&t[c])}},446:function(t,e,n){"use strict";var r=n(416);n.n(r).a},447:function(t,e,n){(t.exports=n(71)(!1)).push([t.i,".Settings{text-align:center}.Settings .title{margin-bottom:0}.Settings .subtitle{margin-bottom:2rem;font-size:1.5rem}.Settings .subtitle a{color:#90cbff}.Settings .form-group{display:flex;justify-content:center;line-height:2rem;padding:.6rem 0}.Settings label{font-size:1rem;width:10rem;text-align:right;padding-right:1rem}.Settings .form-control{font-size:1.2rem;width:20rem}.Settings .result{font-size:1.5rem;font-family:Fredoka One,cursive;font-weight:300}.Settings .result .success{color:#45d823}.Settings .result .errors{color:#f44336;padding:0;line-height:2rem}.Settings button[type=submit]{width:10rem;margin:1rem 0}",""])},471:function(t,e,n){"use strict";n.r(e);n(17),n(16),n(442),n(12);var r=n(2),o=(n(31),n(4)),l=n(406),c=n(443),m=n.n(c),f=n(38),v={components:{PulseLoader:l.a},data:function(){return{errors:[],isSuccess:!1,isSubmitting:!1,name:"",email:"",confirm:"",password:"",affiliation:"",website:"",country:""}},computed:Object(o.a)({},Object(f.c)(["isLoggedIn","csrfToken","user","team","countries"])),watch:{user:function(t){this.name=t.name,this.email=t.email,this.affiliation=t.affiliation,this.website=t.website,this.country=t.country}},asyncData:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.dispatch("updateCsrfToken",e);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),mounted:function(){this.isLoggedIn?(this.name=this.user.name,this.email=this.user.email,this.affiliation=this.user.affiliation,this.website=this.user.website,this.country=this.user.country):this.$router.push({path:"/login"})},methods:{onSubmit:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var form,n,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),form=new FormData(e.target),this.isSubmitting=!0,this.isSuccess=!1,this.errors=[],t.next=7,this.$axios.patch("/api/v1/users/me",Object.fromEntries(form),{headers:{"content-type":"application/json"},validateStatus:null});case 7:if(n=t.sent,data=n.data,this.isSubmitting=!1,!data.success){t.next=16;break}return this.isSuccess=!0,t.next=14,this.$store.dispatch("updateUser",{$axios:this.$axios});case 14:t.next=17;break;case 16:this.errors=m()(Object.values(data.errors));case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},head:function(){return{title:"Settings - TSG CTF"}}},d=(n(446),n(30)),component=Object(d.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"Settings"},[t._m(0),t._v(" "),n("div",{staticClass:"subtitle"},[t._v("\n\t\tUser: "+t._s(t.user.name)),n("br"),t._v("\n\t\tTeam: "),n("nuxt-link",{attrs:{to:"/teams/"+t.team.id}},[t._v(t._s(t.team.name))])],1),t._v(" "),n("form",{attrs:{id:"user-settings-form",method:"post","accept-charset":"utf-8",autocomplete:"off",role:"form"},on:{submit:t.onSubmit}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"name-input"}},[t._v("\n\t\t\t\tUser Name\n\t\t\t")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{id:"name-input",type:"text",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"email-input"}},[t._v("\n\t\t\t\tEmail\n\t\t\t")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email-input",type:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"confirm-input"}},[t._v("\n\t\t\t\tCurrent Password\n\t\t\t")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirm,expression:"confirm"}],staticClass:"form-control",attrs:{id:"confirm-input",type:"password",name:"confirm"},domProps:{value:t.confirm},on:{input:function(e){e.target.composing||(t.confirm=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"password-input"}},[t._v("\n\t\t\t\tNew Password\n\t\t\t")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password-input",type:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"affiliation-input"}},[t._v("\n\t\t\t\tAffiliation\n\t\t\t")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.affiliation,expression:"affiliation"}],staticClass:"form-control",attrs:{id:"affiliation-input",type:"text",name:"affiliation"},domProps:{value:t.affiliation},on:{input:function(e){e.target.composing||(t.affiliation=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"website-input"}},[t._v("\n\t\t\t\tWebsite\n\t\t\t")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.website,expression:"website"}],staticClass:"form-control",attrs:{id:"website-input",type:"url",name:"website"},domProps:{value:t.website},on:{input:function(e){e.target.composing||(t.website=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"country-input"}},[t._v("\n\t\t\t\tCountry\n\t\t\t")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"form-control",attrs:{id:"country-input",name:"country"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.country=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}}),t._v(" "),t._l(t.countries,function(e){var code=e[0],r=e[1];return n("option",{key:code,domProps:{value:code}},[t._v("\n\t\t\t\t\t"+t._s(r)+"\n\t\t\t\t")])})],2)]),t._v(" "),n("div",{staticClass:"form-group"},[t.isSubmitting?n("pulse-loader",{attrs:{color:"white"}}):n("button",{attrs:{id:"submit",type:"submit",tabindex:"5"}},[t._v("\n\t\t\t\tSubmit\n\t\t\t")])],1),t._v(" "),n("div",{staticClass:"result"},[t.isSuccess?n("span",{staticClass:"success"},[t._v("\n\t\t\t\tYour profile has been updated\n\t\t\t")]):t._e(),t._v(" "),t.errors.length>0?n("ul",{staticClass:"errors"},t._l(t.errors,function(e){return n("li",{key:e},[t._v("\n\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t")])}),0):t._e()])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"title"},[e("span",[this._v("Settings")])])}],!1,null,null,null);e.default=component.exports}}]);